#include "fx.cpp"

#define PIN 6
#define NUM_LEDS 64

const int DISPLAY_SIZE = 8*8;

const uint8_t IMAGES[][8] = {
    {
        0b00000000,
        0b00111100,
        0b01100110,
        0b01100110,
        0b01111110,
        0b01100110,
        0b01100110,
        0b01100110,
    },{
        0b00000000,
        0b00111110,
        0b01100110,
        0b01100110,
        0b01111100,
        0b01100110,
        0b01100110,
        0b00111110,
    },{
        0b00000000,
        0b00111100,
        0b01100110,
        0b00000110,
        0b01100000,
        0b00000110,
        0b01100110,
        0b00111100,
    },{
        0b00000000,
        0b00111110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b00111110,
    },{
        0b00000000,
        0b01111110,
        0b01100000,
        0b00000110,
        0b01111100,
        0b00000110,
        0b01100000,
        0b01111110,
    },{
        0b00000000,
        0b01111110,
        0b01100000,
        0b00000110,
        0b01111100,
        0b00000110,
        0b01100000,
        0b00000110,
    },{
        0b00000000,
        0b00111100,
        0b01100110,
        0b00000110,
        0b01100000,
        0b01110110,
        0b01100110,
        0b00111100,
    },{
        0b00000000,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01111110,
        0b01100110,
        0b01100110,
        0b01100110,
    },{
        0b00000000,
        0b00111100,
        0b00011000,
        0b00011000,
        0b00011000,
        0b00011000,
        0b00011000,
        0b00111100,
    },{
        0b00000000,
        0b01111000,
        0b00001100,
        0b00110000,
        0b00001100,
        0b00110110,
        0b01101100,
        0b00011100,
    },{
        0b00000000,
        0b01100110,
        0b01101100,
        0b00011110,
        0b01110000,
        0b00011110,
        0b01101100,
        0b01100110,
    },{
        0b00000000,
        0b00000110,
        0b01100000,
        0b00000110,
        0b01100000,
        0b00000110,
        0b01100000,
        0b01111110,
    },{
        0b00000000,
        0b11000110,
        0b01110111,
        0b11111110,
        0b01101011,
        0b11000110,
        0b01100011,
        0b11000110,
    },{
        0b00000000,
        0b11000110,
        0b01110011,
        0b11011110,
        0b01101111,
        0b11100110,
        0b01100011,
        0b11000110,
    },{
        0b00000000,
        0b00111100,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b00111100,
    },{
        0b00000000,
        0b00111110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b00111110,
        0b01100000,
        0b00000110,
    },{
        0b00000000,
        0b00111100,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01110110,
        0b00111100,
        0b01100000,
    },{
        0b00000000,
        0b00111110,
        0b01100110,
        0b01100110,
        0b01111100,
        0b00011110,
        0b01101100,
        0b01100110,
    },{
        0b00000000,
        0b00111100,
        0b01100110,
        0b00000110,
        0b00111100,
        0b01100000,
        0b01100110,
        0b00111100,
    },{
        0b00000000,
        0b01111110,
        0b01011010,
        0b00011000,
        0b00011000,
        0b00011000,
        0b00011000,
        0b00011000,
    },{
        0b00000000,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01111100,
    },{
        0b00000000,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b01100110,
        0b00111100,
        0b00011000,
    },{
        0b00000000,
        0b11000110,
        0b01100011,
        0b11000110,
        0b01101011,
        0b11111110,
        0b01110111,
        0b11000110,
    },{
        0b00000000,
        0b11000110,
        0b01100011,
        0b01101100,
        0b00011100,
        0b01101100,
        0b01100011,
        0b11000110,
    },{
        0b00000000,
        0b01100110,
        0b01100110,
        0b01100110,
        0b00111100,
        0b00011000,
        0b00011000,
        0b00011000,
    },{
        0b00000000,
        0b01111110,
        0b00000110,
        0b00110000,
        0b00011000,
        0b00001100,
        0b01100000,
        0b01111110,
    }
};

class DotDisplay {
public:
    DotDisplay() {
        strip = Adafruit_NeoPixel(NUM_LEDS, PIN, NEO_GRB + NEO_KHZ800);
        strip.begin();
        strip.show(); // Initialize all pixels to 'off'
    }
    void clear() {
        strip.clear();
        strip.show();
    }
    void PrintChar(const char);
private:
    Adafruit_NeoPixel strip;
    uint32_t color;
};

void DotDisplay::PrintChar(const char ch) {

    int code = ch-65;
    int count = 0;

    for(int j = 0; j < 8; j++)
        for(int i = 128; i > 0; i >>= 1) {
            if((IMAGES[code][j] & i))
                strip.setPixelColor(count, strip.Color(255,0,0));
            else
                strip.setPixelColor(count, strip.Color(128,128,128));
            count++;
        }
    strip.show();

}


void setup() {
	set_grid_dims(8, 8);
}

void loop() {

    DotDisplay dd;
    for(char ch = 'A'; ch <= 'Z'; ch++) {
        dd.PrintChar(ch);
        delay(500);
        dd.clear();

    }

}

